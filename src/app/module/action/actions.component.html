
 <div class="container-fluid">

   <div class="d-flex flex-row-reverse">
      <button class="mt-3 btn btn-success btn-b" type="button" (click)="openActionDialog(null)">
          <b><i class="fa fa-plus"></i></b> Add Action
     </button>
   </div>

   <div class="sub-content blank-background container-fluid mt-3">
         
      <div class="row  justify-content-md-center" *ngFor="let action of actions">
          <div class="col-md-8 action-box mt-3" >

            <div class="row title" (click)="selectAction(action.actionId)">

                    <div class="col-md-1 number">{{action.order}} -</div>
                    <div  class="col-md-10 text">{{action.name}} </div>
                    <div  class="col-md-1 icon">
                       <i  class="fa"  [class.fa-angle-double-up]="selectedActionId==action.actionId"
                          [class.fa-angle-double-down]="selectedActionId!=action.actionId">
                      </i>
                    </div>
             </div>
             <div [ngbCollapse]="selectedActionId!=action.actionId">
                <div class="d-flex flex-row bd-highlight">
                    <div class="week"><span>- Week:</span> {{action.weekNbr}},  </div>
                    <div class="ml-3 date"><span>Date(s):</span> {{action.startDate  | date:'dd/MM/yyyy'}} -  {{action.endDate  | date:'dd/MM/yyyy'}}</div>
                </div>
                <div  class="description mt-3"  [innerHTML]="action.description"></div>
                <div class="row">
                  <div class="d-flex flex-row" *ngFor="let attachment of action.attachmentList">
                    <div class="pl-3">
                      <a class="file-link" (click)="download(attachment.key, attachment.fileName, attachment.contentType)">{{ attachment.fileName }} </a>
                      <!--button class="ml-2 btn app-primary btn-circle btn-outline" (click)="deleteAttachment(attachment.key)" type="button">
                        <i class="fa fa-times"></i>
                      </button-->
                    </div> 
                   </div>
                </div>
  
             </div>
           

          </div>
          <div class="col-md-2 mt-3">
              <div class="d-flex flex-row bd-highlight">
                  <div class="p-2 bd-highlight">
                    <button class="btn app-primary btn-circle btn-outline"  (click)="openActionDialog(action)"  type="button">
                      <i class="fa fa-pencil"></i>
                    </button>
                  </div>
          
                  <div class="p-2 bd-highlight">
                    <button class="btn app-primary btn-circle btn-outline"  (click)="deleteAction(action.actionId)"  type="button">
                      <i class="fa fa-trash"></i>
                    </button>
                  </div>
            
                </div>

          </div>
    
        </div>
       
    </div>
      


 </div>
  
