<div class=" pb-5 page-header">
  <h1>Projects</h1>
  <hr>

</div>

<ul class="nav nav-filter">
  <li class="nav-item">
    <a class="nav-link active" href="#">Active</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Open</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">ALL</a>
  </li>

  <div class="margin-right">
    <li class="sep-item">
      <button class="nav-link btn app-primary btn-circle btn-outline" [routerLink]="['./add']" type="button"><i class="fa fa-plus"></i></button>
    </li>
    <li class="sep-item">
      <button class="nav-link btn app-primary btn-circle btn-outline" [class.focus] = "list==true" (click)="list=true" type="button"><i class="fa fa-list"></i></button>
    </li>
    <li class="sep-item">
      <button class="nav-link btn app-primary btn-circle btn-outline focus" [class.focus] = "list==false" (click)="list=false" type="button"><i class="fa fa-th-large"></i></button>
    </li>
  </div>
</ul>

<div *ngIf="list==false" >

  <div  *ngFor="let project of projects" class="col-sm-4">
    <div class="card  mb-3">
      <div class="card-header bg-transparent">
        <div class="media float-left">
          <img src="../../../assets/images/3.png" class="project-icon mr-2" alt="...">
          <div class="media-body">
            <a class="project-title mt-0">{{project.name}}</a>
            <span class="project-author">
                                <small class="text-muted">
                                    <i class="fa fa-building"></i> {{project.department?.name}} ,  <i class="fa fa-user"></i> Dr. Imed Romdani
                                </small>

                            </span>
            <!--p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p-->
          </div>
        </div>

        <span class="badge badge-pill badge-danger float-right fs-1"> {{project.type}}</span>
      </div>
      <div class="card-body">
        <p class="card-text">{{project.shortDescription}} </p>

        <div class="d-flex flex-row bd-highlight">
          <div class="p-2 flex-fill bd-highlight">
            <span class="project-section-title">Technologies</span><br>
            <div class="container">
              <div class="row">
                <a class="btn keywords" href="#">UX</a>
                <a class="btn keywords" href="#">JAVA</a>
                <a class="btn keywords" href="#">Angular</a>
              </div>
            </div>
          </div>
        </div>

        <div class="d-flex flex-row bd-highlight">
          <div class="p-2 bd-highlight">
            <span class="project-section-title">Start Date</span><br>
            <span class="btn btn-label-brand btn-sm btn-bold btn-upper">{{project.startDate  | date:'dd/MM/yyyy'}}</span>
          </div>
          <div class="p-2 bd-highlight">
            <span class="project-section-title">End Date</span><br>
            <span class="btn btn-label-danger btn-sm btn-bold btn-upper">{{project.endDate  | date:'dd/MM/yyyy'}}</span>
          </div>

          <div class="p-2 flex-fill bd-highlight">
            <span class="project-section-title">Progress</span>
            <div class="kt-widget__progress d-flex   align-items-center">
              <div class="progress" style="height: 5px;width: 100%;">
                <div class="progress-bar kt-bg-warning" role="progressbar" style="width: 78%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <span class="kt-widget__stat">78%</span>
            </div>
          </div>
        </div>

        <!--div class="d-flex flex-row bd-highlight mb-3">
            <div class="p-2 bd-highlight">
                <span class="project-section-title">Responsible</span><br>
                <div class="d-flex">
                    <img src="../../../assets/images/100_4.jpg" class="img-circle img-bordered-sm mr-2" alt="...">
                    <a class="align-self-center">Lira Moucjet</a>
                </div>
            </div>
            <div class="p-2 bd-highlight">
                <span class="project-section-title">Members</span><br>
                <div class="d-flex">
                    <img src="../../../assets/images/100_3.jpg" class="img-circle img-bordered-sm mr-2" alt="...">
                    <a class="align-self-center">Ula Luckin</a>
                </div>
            </div>
        </div-->
      </div>
      <div class="card-footer project-footer2 bg-transparent container">
        <div class="d-flex justify-content-around">
          <div class="p-2 flex-fill bd-highlight app-primary-btn">Apply Now</div>
          <div class="p-2 flex-fill bd-highlight app-primary-btn" [routerLink]="['.', project.projectId]">View Project</div>
          <div class="p-2 bd-highlight">
            <button class="nav-link btn app-primary btn-circle btn-outline" type="button" [routerLink]="['.', project.projectId]">
            <i class="fa fa-heart"></i></button>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>


<div *ngIf="list==true">

  <div class="col-sm-12">
    <div class="card mb-3">

      <div class="card-body table-responsive">
        <table class="table table-hover">
          <thead>
          <tr>
            <th>Name</th>
            <th>Creator</th>
            <th>Type</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Supervisor</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>

           <tr *ngFor="let project of projects">
              <td>
                  <div class="media">
                    <img src="../../../assets/images/3.png" class="project-icon-small mr-2" alt="...">
                    <div class="media-body">
                      <a class="project-title-small mt-0">{{project.name}}</a>
                      <span class="project-author-small">
                           <small class="text-muted">
                                <i class="fa fa-building"></i> {{project.department?.name}}
                           </small>
                      </span>
                    </div>
                  </div>
                </td>
                <td>
                    <span class="project-author-small"><i class="fa fa-user"></i> Dr. Imed Romdhani</span>
                </td>
                <td> <span class="badge badge-pill badge-danger fs-1">{{project.type}}</span></td>
                <td> <span class="btn btn-label-brand btn-sm btn-bold btn-upper">{{project.startDate  | date:'dd/MM/yyyy'}}</span></td>
                <td> <span class="btn btn-label-danger btn-sm btn-bold btn-upper">{{project.endDate  | date:'dd/MM/yyyy'}}</span></td>
                <td>
                  <div  *ngIf="!!project.supervisor" class="d-flex">
                    <img src="../../../assets/images/100_4.jpg" class="img-circle img-bordered-sm mr-2" alt="...">
                    <a class="align-self-center"> {{project.supervisor?.firstName}}  {{project.supervisor?.lastName}}</a>
                  </div>
                </td>
                <td>
                  <div class="d-flex flex-row bd-highlight">
                    <div class="p-2 bd-highlight"><button class="nav-link btn app-primary btn-circle btn-outline" type="button"><i class="fa fa-heart"></i></button></div>
                    <div class="p-2 bd-highlight"><button class="nav-link btn app-primary btn-circle btn-outline"  [routerLink]="['.', project.projectId]"  type="button"><i class="fa fa-eye"></i></button></div>
                  </div>
    
                </td>
          </tr>
          <!--tr *ngFor="let  item of nbrs">
            <td>
              <div class="media">
                <img src="../../../assets/images/3.png" class="project-icon-small mr-2" alt="...">
                <div class="media-body">
                  <a class="project-title-small mt-0">Nexa - Next generation SAAS</a>
                  <span class="project-author-small">
                       <small class="text-muted">
                            <i class="fa fa-building"></i> Communication & Network
                       </small>
                  </span>
                </div>
              </div>
            </td>
            <td>
                <span class="project-author-small"><i class="fa fa-user"></i> Dr. Imed Romdhani</span>
            </td>
            <td> <span class="badge badge-pill badge-danger fs-1">PFE</span></td>
            <td> <span class="btn btn-label-brand btn-sm btn-bold btn-upper">07 may, 18</span></td>
            <td> <span class="btn btn-label-danger btn-sm btn-bold btn-upper">07 June, 18</span></td>
            <td>
              <div class="d-flex">
                <img src="../../../assets/images/100_4.jpg" class="img-circle img-bordered-sm mr-2" alt="...">
                <a class="align-self-center">Lira Moucjet</a>
              </div>
            </td>
            <td>
              <div class="d-flex flex-row bd-highlight">
                <div class="p-2 bd-highlight"><button class="nav-link btn app-primary btn-circle btn-outline" type="button"><i class="fa fa-heart"></i></button></div>
                <div class="p-2 bd-highlight"><button class="nav-link btn app-primary btn-circle btn-outline"  [routerLink]="['.', 1]"  type="button"><i class="fa fa-eye"></i></button></div>
              </div>

            </td>
          </tr-->

          </tbody>
        </table>
      </div>
    </div>
  </div>


</div>


